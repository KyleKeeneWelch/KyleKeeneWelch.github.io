<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta property="og:title" content="Home">
    <meta property="og:locale" content="en_US">
    <meta name="description" content="Github pages portfolio website">
    <meta property="og:description" content="Github pages portfolio website">
    <link rel="canonical" href="https://kylekeenewelch.github.io/my-site/index/">
    <meta property="og:url" content="https://kylekeenewelch.github.io/my-site/index/">
    <meta property="og:site_name" content="Kyle Keene-Welch">
    <meta property="og:type" content="website">
    <title>The Odin Project: Library | Kyle Keene-Welch</title>
</head>

<body>
    <main class="main-container">
        <header>
            <a href="index.html"><img src=<%=require("../../assets/images/home/logo.png")%> alt="Logo" /></a>
            <nav>
                <a href="index.html">Home</a>
                <a href="about.html">About</a>
                <a href="portfolio.html">Portfolio</a>
                <a href="contact.html">Contact</a>
            </nav>
        </header>
        <br>
        <section>
            <div class="project-intro">
                <div>
                    <h1>Library</h1>
                    <p>June 17th, 2023</p>
                </div>
                <div class="project-featured-image">
                    <img src=<%=require("../../assets/images/projects/odin-library/odin-library.png")%>
                    alt="Library" />
                </div>
                <div class="project-tags">
                    <p class="project-tag">HTML</p>
                    <p class="project-tag">CSS</p>
                    <p class="project-tag">JS</p>
                    <p class="project-tag">Web</p>
                    <p class="project-tag">CSS Grid</p>
                    <p class="project-tag">Object Oriented</p>
                </div>
            </div>
        </section>
        <section>
            <h2>Summary</h2>
            <p>
                This project is a project undertaken as part of <span>The Odin Project</span> learning web course
                teaching <span>HTML</span>, <span>CSS</span> and <span>JavaScript</span> skills. It involved putting
                into practice the teachings of <span>Objects</span> and <span>Constructors</span> taught in the previous
                lessons to create effective data structures to manipulate within a library-based application.
            </p>
            <p>
                The project aims to display a catalogue of books that the user enters into the form modal and shows the
                book's details and whether it has been read. A book's title, author, number of pages are the details
                shown. If the "have you read" checkbox is checked, the book container displays a green background color
                while red is displayed otherwise. The checkbox on the container will flip the read status so the user is
                able to update the application once they have read the book. A "remove" button is also provided so that
                the user can delete a book entry from the library catalogue.
            </p>
            <p>
                Much of the data is handled through an Object-Oriented approach in JavaScript where a book and a library
                represents individual data structures with their own properties and methods. The user interface is
                reflected upon the values stored in the created book and library objects. The library will maintain an
                array of books of which will store many book objects and the grid container in the user interface will
                update to match the books found within.
            </p>
        </section>
        <section>
            <h2>Features</h2>
            <ul>
                <li><strong>Flexbox and Grid</strong> - Uses flexbox and grid tools to position and structure page
                    elements according to the design.</li>
                <li><strong>JavaScript Validation API</strong> - Uses JavaScript Validation API to handle the validation
                    of the add book form manually. It performs checks upon the placed validation rules on the fields in
                    the form and the form will accept or reject values based on the validity of the fields. The
                    preventDefault() function prevents the form from sending the data and allows us to alter the
                    contents in the page without a refresh.</li>
                <li><strong>Error Messages and Borders</strong> - A flagged check will provide the appropriate error
                    message below the triggering field so that the user is able to enact on the error. An invalid or
                    crossed validation rule will change the border of a field to red while valid changes to green.</li>
                <li><strong>Keyboard Support</strong> - Allows the user to use the "escape" and "enter" keys to close
                    the form modal and submit the entry.</li>
            </ul>
            <div class="project-feature-container">
                <h3>Starting State</h3>
                <img src=<%=require("../../assets/images/projects/odin-library/starting_state_library.png")%>
                alt="Starting State"
                />
                <p>
                    The user interface upon start consists of a header, footer, add book button and a no books message.
                    Clicking on the add book button will open the add book modal. Entering a valid book entry will
                    create a book container and place it within the book grid. Removing all books will cause the no
                    books message to return.
                </p>
            </div>
            <div class="project-feature-container">
                <h3>Grid Structure</h3>
                <img src=<%=require("../../assets/images/projects/odin-library/grid_structure_library.png")%> alt="Grid
                Structure"
                />
                <p>
                    Grid is used to provide a consistent size row for each book and to appropriately distance elements
                    within each book container.
                </p>
            </div>
            <div class="project-feature-container">
                <h3>Form, Validation and Error Messages</h3>
                <img src=<%=require("../../assets/images/projects/odin-library/form_library.png")%>
                alt="Form, Validation and Error Message"
                />
                <p>The add book modal will display the form with fields to create a new book. Fields included are
                    <span>Title</span>, <span>Author</span>, <span>Pages</span> and a "have you read" checkbox. Input
                    that is deemed invalid by the validation API will provide the appropriate error message below the
                    conflicting field(s). The border of each field will change colour depending on whether the input is
                    considered valid or invalid. Only a valid form status will create a new book and add it to the book
                    grid.
                </p>
            </div>
            <div class="project-feature-container">
                <h3>Flipping Read Status</h3>
                <img src=<%=require("../../assets/images/projects/odin-library/flip_read_library.png")%> alt="Flipping
                Read Status"
                />
                <p>Books that are displayed in the book grid will reflect whether they have been read by their green or
                    red background colour. This is set initially by the "have read" checkbox and can be flipped through
                    the checkbox found on the book container.</p>
            </div>
        </section>
        <section>
            <h2>Implementation</h2>
            <div>
                <h3>Using Grid</h3>
                <figure>
                    <pre>
                        <code>
const resetBookGrid = () => {
    bookGrid.innerHTML = ''
}

const updateGrid = () => {
    resetBookGrid()
    if (library.books.length === 0) {
        noBooksText = document.createElement('h3')
        noBooksText.textContent = 'No Books Avaliable! Click the "Add Book" button to add a book!'
        bookGrid.appendChild(noBooksText)
    } else {
        for (let book of library.books) {
            createBookCell(book)
        }
    }
}
                        </code>
                    </pre>
                </figure>
                <p>
                    A key area in the implementation is the use of grid to structure and place elements in the webpage.
                    We use the <span>grid-template-rows</span> and <span>grid-template-columns</span> to define the rows
                    and columns of the grid as well as the sizes of the tracks. In our application, we apply the
                    <span>updateGrid()</span> and <span>resetBookGrid()</span> methods to constantly reset and recreate
                    the grid with the new books added to the library. When we create a new book cell, we create the
                    necessary elements in JavaScript, apply the correct classes, attributes and append the elements to
                    one another as well as the grid itself. We also perform a check to see if there is no books
                    available in the library in which case the grid is provided with a "no books available" message.
                </p>
            </div>
            <div>
                <h3>Form Validation API</h3>
                <figure>
                    <pre>
                        <code>
...
bookForm.addEventListener("submit", (e) => {
    if(title.validity.valueMissing) {
        titleError.textContent = "Title is required";
        titleError.classList.add('active')
        title.style.border = '2px solid var(--error-color)'
    }

    if(author.validity.valueMissing) {
        authorError.textContent = "Author is required";
        authorError.classList.add('active')
        author.style.border = '2px solid var(--error-color)'
    }

    if(pages.validity.valueMissing) {
        pagesError.textContent = "Pages is required";
        pagesError.classList.add('active')
        pages.style.border = '2px solid var(--error-color)'
    }

    if (bookForm.checkValidity()) {
        e.preventDefault()
        addBook()
    }
    else {
        e.preventDefault();
    }
})
                        </code>
                    </pre>
                </figure>
                <p>
                    The Form <span>Validation API</span> will allow us to specify which validation rules to check and
                    the appropriate error messages to display once the chreck is flagged. We show the correct message,
                    the message itself and change the border to red when a field fails a validation check. If the checks
                    are clear on a field, the border is set to green and the associated error message is removed. The
                    form uses <span>preventDefault()</span> to stop it from sending the data and refreshing the page. We
                    use the form input within several other functions chaining from the <span>addBook()</span> function
                    called upon valid entry.
                </p>
            </div>
            <div>
                <h3>Root Variables and Default Styling</h3>
                <figure>
                    <pre>
                        <code>
:root {
    --color-main: #233d4d;
    --color-secondary: #fe7f2d;
    --color-background: #E2ECE9;
    --black: #000;
    --white: #FFF;
    --valid-color: #9DF148;
    --error-color: #e22121;
    --not-read-color: #F05555;
    --read-color: #a1c181;
    --border-radius: 8px;
    --spacing-xs: 5px;
    --spacing-sm: 10px;
    --spacing-md: 15px;
    --spacing-lg: 20px;
    --spacing-xl: 40px;
    --container-width: 1200px;
    --box-shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;
}

*,
*::before,
*::after {
    box-sizing: border-box;
    padding: 0;
    margin: 0;
}

html {
    position: relative;
    min-height: 100%;
    }
    
body {
    background-color: var(--color-background);
    color: var(--black);
    font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
    font-size: 16px;
    word-wrap: break-word;
    margin-bottom: 100px;
    display: block;
}
                        </code>
                    </pre>
                </figure>
                <p>
                    The implementation makes use of root variables and default styling to improve the development
                    process and the quality of code. Root variables allow us to specify the website's theme and the
                    colours we wish to use in different areas. By specifying the variable name, we can reference the
                    colour and can apply this to element's <span>color</span> and <span>background-color</span>
                    properties. Default styling is styling applied to all elements to provide a base style that can be
                    inherited by each element. This includes setting the box-sizing, setting the margin and padding to 0
                    and other things such as the font-family and size.
                </p>
            </div>
            <div>
                <h3>Data Structures</h3>
                <figure>
                    <pre>
                        <code>
function Book(title, author, pages, haveRead) {
    this.title = title;
    this.author = author;
    this.pages = pages;
    this.haveRead = haveRead;

    this.info = function() {
        let readText = haveRead ? "have read." : "not read yet";
        return this.title + ", by " + this.author + ", " + this.pages + " pages, " + readText;
    }
}

function Library() {
    this.books = []

    this.createBookFromInput = function() {
        const title = document.getElementById('title').value.replace(/^\s+|\s+$/gm,'')
        const author = document.getElementById('author').value.replace(/^\s+|\s+$/gm,'')
        const pages = document.getElementById('pages').value
        const haveRead = document.getElementById('have-read').checked
        return new Book(title, author, pages, haveRead)
    }

    this.isInLibrary = function(newBook) {
        return this.books.some((book) => book.title === newBook.title)
        }

    this.addToLibrary = function(newBook) {
        if (!this.isInLibrary(newBook))
        {
            this.books.push(newBook)
        }
        else {
            console.log('Book already in library')
        }
    }

    this.removeBook = function(title) {
        this.books = this.books.filter((book) => book.title !== title)
        }
}

library = new Library()
                        </code>
                    </pre>
                </figure>
                <p>
                    Data structures such as the Book and Library objects allow us to take an Object Oriented approach
                    when it comes to handling application data. We create a library object upon startup so that we can
                    reference this and store our created Book objects. Both the Book and Library objects contain
                    properties and methods that belong only to those objects. The script accesses these through dot
                    notation and manipulates the data and objects stored through the functionality provided in the
                    methods.
                </p>
            </div>
            <div>
                <h3>Event Listeners and DOM Methods</h3>
                <figure>
                    <pre>
                        <code>
haveRead.addEventListener("change", (e) => {
    if (e.target.checked) {
        bookContainer.classList.add('active')
    }
    else {
        bookContainer.classList.remove('active')
    }
})

removeBook.addEventListener("click", (e) => {
const title = e.target.parentNode.parentNode.parentNode.firstChild.firstChild.innerHTML
library.removeBook(title)
updateGrid()
})
                        </code>
                    </pre>
                </figure>
                <p>
                    We use event listeners and DOM methods in our user interface implementation to allow us to detect
                    when the user has performed a specific event and to provide an appropriate response. The "change"
                    event on the haveRead checkbox is an example of this where we will alter the active class on the
                    book container so that it displays a green or red background depending on the read status. The
                    <span>removeBook</span> click event is another example that will obtain the book container's book
                    title and will remove this from the library before updating the grid.
                </p>
        </section>
        <section>
            <div class="github-repo-container">
                <div>
                    <a href="https://github.com/KyleKeeneWelch/odin-library" target="_blank"><i
                            class="fa-brands fa-github icon" aria-hidden="true"></i></a>
                    <a href="https://github.com/KyleKeeneWelch/odin-library" target="_blank">Kyle Keene-Welch |
                        Library</a>
                </div>
            </div>
            <div>
                <h2>Want to know more?</h2>
                <p class="center">Get in contact by visiting the <a href="contact.html">Contact Page</a> or
                    alternatively emailing <a href="mailto:kylekeene.welch@gmail.com">kylekeene.welch@gmail.com</a></p>
            </div>
        </section>
        <footer>
            <p>Kyle Keene-Welch Â© 2024</p>
            <a href="https://github.com/KyleKeeneWelch"><i class="fa-brands fa-github icon" aria-hidden="true"></i></a>
            <a href="mailto:kylekeene.welch@gmail.com">kylekeene.welch@gmail.com</a>
        </footer>
    </main>
</body>

</html>